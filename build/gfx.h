/* File generated with Shader Minifier 1.1.6
 * http://www.ctrl-alt-test.fr
 */
#ifndef GFX_H_
# define GFX_H_
# define VAR_ICHANNEL0 "y"
# define VAR_IPASS "i"
# define VAR_ITIME "v"
# define VAR_OUT_COLOR "f"

const char *gfx_frag =
 "#version 450\n"
 "layout(location=0)uniform float v;"
 "layout(location=1)uniform int i;"
 "uniform sampler2D y;"
 "out vec4 f;"
 "const vec2 s=vec2(1920.,1080.);"
 "const vec3 m=vec3(1.,0.,-1.);"
 "const float x=acos(-1.),z=1.618,c=45.;"
 "float r,e,d,w,a;"
 "mat3 l;"
 "vec3 t[20]=vec3[20](vec3(0,z,1),vec3(0,-z,1),vec3(1,0,z),vec3(-1,0,z),vec3(z,1,0),vec3(-z,1,0),vec3(1,1,1),vec3(-1,1,1),vec3(1,-1,1),vec3(1,1,-1),vec3(0,1,z+1.),vec3(0,-1,z+1.),vec3(z+1.,0,1),vec3(-z-1.,0,1),vec3(1,z+1.,0),vec3(-1,z+1.,0),vec3(sqrt(2.),sqrt(6.),1.),vec3(-sqrt(8.),0.,1.),vec3(sqrt(2.),-sqrt(6.),1.),vec3(0.,0.,-3.));"
 "const float n=144.;"
 "float p(vec2 m)"
 "{"
   "vec3 v=fract(vec3(m.xyx)*.1031);"
   "v+=dot(v,v.yzx+33.33);"
   "return fract((v.x+v.y)*v.z);"
 "}"
 "vec2 h(vec2 m)"
 "{"
   "vec3 v=fract(vec3(m.xyx)*vec3(.1031,.103,.0973));"
   "v+=dot(v,v.yzx+33.33);"
   "return fract((v.xx+v.yz)*v.zy);"
 "}"
 "float o(float v)"
 "{"
   "return v=fract(v*.1031),v*=v+33.33,v*=v+v,fract(v);"
 "}"
 "vec3 g(float v)"
 "{"
   "vec3 m=fract(vec3(v)*vec3(.1031,.103,.0973));"
   "m+=dot(m,m.yzx+33.33);"
   "return fract((m.xxy+m.yzz)*m.zyx);"
 "}"
 "float u(vec2 v)"
 "{"
   "vec2 x=floor(v);"
   "v=fract(v);"
   "v=smoothstep(m.yy,m.xx,v);"
   "vec2 f=vec2(p(x),p(x+m.xy)),y=vec2(p(x+m.yx),p(x+m.xx));"
   "f=m.zz+2.*mix(f,y,v.y);"
   "return mix(f.x,f.y,v.x);"
 "}"
 "vec3 b(vec3 m)"
 "{"
   "vec4 v=vec4(0.,-1./3.,2./3.,-1.),f=mix(vec4(m.zy,v.wz),vec4(m.yz,v.xy),step(m.z,m.y)),s=mix(vec4(f.xyw,m.x),vec4(m.x,f.yzx),step(f.x,m.x));"
   "float x=s.x-min(s.w,s.y),y=1e-10;"
   "return vec3(abs(s.z+(s.w-s.y)/(6.*x+y)),x/(s.x+y),s.x);"
 "}"
 "vec3 q(vec3 m)"
 "{"
   "vec4 v=vec4(1.,2./3.,1./3.,3.);"
   "vec3 x=abs(fract(m.xxx+v.xyz)*6.-v.www);"
   "return m.z*mix(v.xxx,clamp(x-v.xxx,0.,1.),m.y);"
 "}"
 "mat3 F(in vec3 v)"
 "{"
   "return mat3(m.xyyy,cos(v.x),sin(v.x),0.,-sin(v.x),cos(v.x))*mat3(cos(v.y),0.,-sin(v.y),m.yxy,sin(v.y),0.,cos(v.y))*mat3(cos(v.z),-sin(v.z),0.,sin(v.z),cos(v.z),m.yyyx);"
 "}"
 "float F(vec2 v,vec2 y)"
 "{"
   "vec2 x=abs(v)-y;"
   "return length(max(x,m.yy))+min(max(x.x,x.y),0.);"
 "}"
 "float b(vec3 v,vec3 y)"
 "{"
   "vec3 m=abs(v)-y;"
   "return length(max(m,0.))+min(max(m.x,max(m.y,m.z)),0.);"
 "}"
 "float F(in vec2 v,in float y,in float z)"
 "{"
   "float i=atan(v.y,v.x),s=x/z,f=mod(i+x,2.*s);"
   "vec2 d=y*m.xy,a=y*vec2(cos(2.*s),sin(2.*s)),c=a-d,j=normalize(a-d).yx*m.xz,l=length(v)*vec2(cos(f),sin(f));"
   "float n=dot(l-d,c)/dot(c,c),G=dot(l-d,j);"
   "if(n<0.)"
     "return sign(G)*length(l-d);"
   "else"
     " if(n>1.)"
       "return sign(G)*length(l-a);"
     "else"
       " return G;"
 "}"
 "float F(in vec2 v,in float y,in float z,in float f)"
 "{"
   "f*=2.;"
   "float i=atan(v.y,v.x),s=x/f,c=mod(i+x,2.*s),j=mod(round((i+x-c)*.5/s),2.),d=s,w=mix(d,-d,j);"
   "vec2 a=y*vec2(cos(s-w),sin(s-w)),l=z*vec2(cos(s+w),sin(s+w)),G=l-a,n=normalize(l-a).yx*m.xz,r=length(v)*vec2(cos(c),sin(c));"
   "float t=dot(r-a,G)/dot(G,G),e=mix(1.,-1.,j)*dot(r-a,n);"
   "if(t<0.)"
     "return sign(e)*length(r-a);"
   "else"
     " if(t>1.)"
       "return sign(e)*length(r-l);"
     "else"
       " return e;"
 "}"
 "float b(float v,float y,float m)"
 "{"
   "vec2 x=vec2(y,abs(v)-.5*m);"
   "return min(max(x.x,x.y),0.)+length(max(x,0.));"
 "}"
 "float F(vec3 v,int m,int y,float x,bool i)"
 "{"
   "float f=0.,z;"
   "for(int r=m;r<y;++r)"
     "z=dot(v,normalize(t[r])),f=max(f,i?abs(z):z);"
   "return f-x;"
 "}"
 "vec4 C(vec2 v)"
 "{"
   "vec2 m=vec2(1,1.73),x=m*.5,y=mod(v,m)-x,z=mod(v-x,m)-x,f=dot(y,y)<dot(z,z)?y:z;"
   "return vec4(f,v-f);"
 "}"
 "vec2 D(vec3 v)"
 "{"
   "if(v.x==0.)"
     "return-v.z/v.y*m.xx;"
   "float x=v.y*v.y-4.*v.x*v.z;"
   "if(x<0.)"
     "return vec2(10000.);"
   "return(m.xz*sqrt(x)-v.y)/(2.*v.x);"
 "}"
 "vec3 Z(vec4 v)"
 "{"
   "if(v.x==0.)"
     "return D(v.yzw).xyy;"
   "vec3 f=v.yzw/v.x;"
   "float y=f.x/3.,s=f.y-y*f.x,l=-y*(y*y+s)+f.z,z=l*l/4.+s*s*s/27.;"
   "if(z>0.)"
     "{"
       "vec2 i=-.5*l*m.xx+sqrt(z)*m.xz,c=sign(i)*pow(abs(i),m.xx/3.);"
       "return vec3(c.x+c.y-y);"
     "}"
   "float i=sqrt(-4./3.*s),c=acos(-.5*l*sqrt(-27./s/s/s))/3.;"
   "return m.zxz*i*cos(c*m.xxx+m*x/3.)-y;"
 "}"
 "vec2 C(vec2 y,float v,vec2 x,vec2 m,vec2 z)"
 "{"
   "return mix(mix(x,m,v),mix(m,z,v),v);"
 "}"
 "float D(vec2 v,float y,vec2 m,vec2 x,vec2 i)"
 "{"
   "return length(v-C(v,y,m,x,i));"
 "}"
 "vec2 Z(vec2 y,float v,vec2 x,vec2 m,vec2 i)"
 "{"
   "return normalize(mix(m-x,i-m,v));"
 "}"
 "vec2 C(vec2 v,vec2 y,vec2 m,vec2 x)"
 "{"
   "vec2 i=v-y,z=x-2.*m+y,f=m-y;"
   "vec3 s=clamp(Z(vec4(dot(z,z),3.*dot(f,z),2.*dot(f,f)-dot(i,z),-dot(i,f))),0.,1.),c=vec3(D(v,s.x,y,m,x),D(v,s.y,y,m,x),D(v,s.z,y,m,x));"
   "return c.x<c.y&&c.x<c.z?vec2(c.x,s.x):c.y<c.x&&c.y<c.z?vec2(c.y,s.y):vec2(c.z,s.z);"
 "}"
 "float C(vec2 v,vec2 y,vec2 m)"
 "{"
   "vec2 x=m-y;"
   "return clamp(dot(v-y,x)/dot(x,x),0.,1.);"
 "}"
 "float D(vec2 v,vec2 m,vec2 y)"
 "{"
   "return length(v-mix(m,y,C(v,m,y)));"
 "}"
 "vec2 Z(vec2 v,vec2 y,vec2 m)"
 "{"
   "vec2 x=m-y,f;"
   "f.y=clamp(dot(v-y,x)/dot(x,x),0.,1.);"
   "f.x=length(v-mix(y,m,f.y));"
   "return f;"
 "}"
 "vec2 g(vec2 v,vec2 y,vec2 m)"
 "{"
   "vec2 x=m-y,f;"
   "f.y=dot(v-y,x)/dot(x,x);"
   "f.x=length(v-mix(y,m,f.y));"
   "return f;"
 "}"
 "float C(vec3 v,float x)"
 "{"
   "v/=x;"
   "float y=1.;"
   "y=min(y,b(v,.2*m.xxx));"
   "y=max(y,-b(v-.1*m.xyy,vec3(.02,.3,.12)));"
   "y=max(y,-b(v-.05*m.xyy-.1*m.yyx,vec3(.07,.3,.02)));"
   "y=max(y,-b(v,vec3(.02,.3,.1)));"
   "y=max(y,-b(v+.05*m.xyy+.1*m.yyx,vec3(.07,.3,.02)));"
   "y=max(y,-b(v+.1*m.xyy-.1*m.yyx,vec3(.02,.3,.02)));"
   "y=max(y,-b(v+.04*m.yyx,vec3(.3,.02,.08)));"
   "y=max(y,-b(v-.1*m.yyx,vec3(.3,.02,.02)));"
   "vec3 i=vec3(v.x,abs(v.y),v.z);"
   "y=max(y,-b(i-.05*m.yxy,vec3(.1,.03,.3)));"
   "y=max(y,-b(i-.1*m.yxy-.06*m.xyy,vec3(.08,.021,.3)));"
   "vec3 f=vec3(abs(v.x),v.yz);"
   "y=max(y,-b(f-.119*m.xyy,vec3(.021,.08,.3)));"
   "return y*x;"
 "}"
 "vec2 h(vec3 v,float y,out vec3 i)"
 "{"
   "float m=1.-1./y,f=min(atan(v.y,v.x),x),s=v.z,c=max(2.,floor(log(y*x*sqrt(5.)*(1.-s*s))/log(z+1.))),l=pow(z,c)/sqrt(5.),r,e;"
   "vec2 d=vec2(round(l),round(l*z)),a=2.*d/y,j=2.*x*(fract((d+1.)*z)-(z-1.)),G;"
   "mat2 n=mat2(a.y,-a.x,j.y,-j.x)/(a.y*j.x-a.x*j.y);"
   "G=floor(n*vec2(f,s-m));"
   "r=8.;"
   "e=0.;"
   "for(int t=0;t<4;t++)"
     "{"
       "vec2 w=vec2(float(t-2*(t/2)),float(t/2));"
       "float g=round(dot(d,w+G)),o=2.*x*fract(g*z),B=m-2.*g/y,u=sqrt(1.-B*B);"
       "vec3 F=vec3(cos(o)*u,sin(o)*u,B);"
       "float p=dot(F-v,F-v);"
       "if(p<r)"
         "i=F,r=p,e=g;"
     "}"
   "return vec2(e,sqrt(r));"
 "}"
 "mat3 Y(vec3 v)"
 "{"
   "vec3 y=normalize(v.x!=0.?vec3(-v.y/v.x,1.,0.):v.y!=0.?vec3(1.,-v.x/v.y,0.):vec3(1.,0.,-v.x/v.z));"
   "return mat3(v,y,cross(v,y));"
 "}"
 "float Y(vec3 v,vec3 y,float x)"
 "{"
   "float f=b(v,y);"
   "f=max(f,-b(v,y+m.zzx*x));"
   "f=max(f,-b(v,y+m.xzz*x));"
   "return max(f,-b(v,y+m.zxz*x));"
 "}"
 "float o(vec3 v,vec3 y,vec3 m)"
 "{"
   "vec3 x=m-y;"
   "return clamp(dot(v-y,x)/dot(x,x),0.,1.);"
 "}"
 "float p(vec3 v,vec3 y,vec3 x)"
 "{"
   "return length(v-mix(y,x,o(v,y,x)));"
 "}"
 "const int X=664;"
 "const float W[X]=float[X](.474,-.145,.474,-.062,.474,-.062,.5,-.062,.5,-.062,.5,-.145,.5,-.145,.474,-.145,.385,-.145,.385,.104,.385,.104,.449,.104,.449,.104,.449,.063,.449,.063,.462,.063,.462,.063,.462,-.145,.462,-.145,.436,-.145,.436,-.145,.436,.06,.436,.06,.423,.06,.423,.06,.423,.019,.423,.019,.411,.019,.411,.019,.411,-.145,.411,-.145,.385,-.145,.321,.06,.321,-.02,.321,-.02,.346,-.02,.346,-.02,.346,.06,.346,.06,.321,.06,.308,-.145,.308,-.104,.308,-.104,.295,-.104,.295,-.104,.295,.063,.295,.063,.308,.063,.308,.063,.308,.104,.308,.104,.359,.104,.359,.104,.359,.063,.359,.063,.372,.063,.372,.063,.372,-.063,.372,-.063,.321,-.063,.321,-.063,.321,-.102,.321,-.102,.359,-.102,.359,-.102,.359,-.145,.359,-.145,.308,-.145,.256,-.145,.256,.102,.256,.102,.244,.102,.244,.102,.244,.145,.244,.145,.282,.145,.282,.145,.282,-.145,.282,-.145,.256,-.145,.18,-.102,.205,-.102,.205,-.102,.205,.06,.205,.06,.18,.06,.18,.06,.18,-.102,.167,-.145,.167,-.104,.167,-.104,.154,-.104,.154,-.104,.154,.063,.154,.063,.167,.063,.167,.063,.167,.104,.167,.104,.218,.104,.218,.104,.218,.063,.218,.063,.231,.063,.231,.063,.231,-.104,.231,-.104,.218,-.104,.218,-.104,.218,-.145,.218,-.145,.167,-.145,.09,-.102,.115,-.102,.115,-.102,.115,.06,.115,.06,.09,.06,.09,.06,.09,-.102,.077,-.145,.077,-.104,.077,-.104,.064,-.104,.064,-.104,.064,.063,.064,.063,.077,.063,.077,.063,.077,.104,.077,.104,.128,.104,.128,.104,.128,.063,.128,.063,.141,.063,.141,.063,.141,-.104,.141,-.104,.128,-.104,.128,-.104,.128,-.145,.128,-.145,.077,-.145,-.013,-.145,-.013,-.104,-.013,-.104,-.026,-.104,-.026,-.104,-.026,.063,-.026,.063,-.013,.063,-.013,.063,-.013,.104,-.013,.104,.039,.104,.039,.104,.039,.063,.039,.063,.051,.063,.051,.063,.051,.019,.051,.019,.025,.019,.025,.019,.025,.06,.025,.06,0.,.06,0.,.06,0.,-.102,0.,-.102,.025,-.102,.025,-.102,.025,-.061,.025,-.061,.051,-.061,.051,-.061,.051,-.104,.051,-.104,.039,-.104,.039,-.104,.039,-.145,.039,-.145,-.013,-.145,-.115,-.145,-.115,.104,-.115,.104,-.051,.104,-.051,.104,-.051,.063,-.051,.063,-.038,.063,-.038,.063,-.038,-.145,-.038,-.145,-.064,-.145,-.064,-.145,-.064,.06,-.064,.06,-.077,.06,-.077,.06,-.077,.019,-.077,.019,-.089,.019,-.089,.019,-.089,-.145,-.089,-.145,-.115,-.145,-.179,.06,-.179,-.02,-.179,-.02,-.154,-.02,-.154,-.02,-.154,.06,-.154,.06,-.179,.06,-.192,-.145,-.192,-.104,-.192,-.104,-.205,-.104,-.205,-.104,-.205,.063,-.205,.063,-.192,.063,-.192,.063,-.192,.104,-.192,.104,-.141,.104,-.141,.104,-.141,.063,-.141,.063,-.128,.063,-.128,.063,-.128,-.063,-.128,-.063,-.179,-.063,-.179,-.063,-.179,-.102,-.179,-.102,-.141,-.102,-.141,-.102,-.141,-.145,-.141,-.145,-.192,-.145,-.244,-.145,-.244,.102,-.244,.102,-.256,.102,-.256,.102,-.256,.145,-.256,.145,-.218,.145,-.218,.145,-.218,-.145,-.218,-.145,-.244,-.145,-.295,-.145,-.295,.102,-.295,.102,-.308,.102,-.308,.102,-.308,.145,-.308,.145,-.269,.145,-.269,.145,-.269,-.145,-.269,-.145,-.295,-.145,-.385,-.145,-.385,-.104,-.385,-.104,-.397,-.104,-.397,-.104,-.397,.104,-.397,.104,-.371,.104,-.371,.104,-.371,-.102,-.371,-.102,-.359,-.102,-.359,-.102,-.359,-.061,-.359,-.061,-.347,-.061,-.347,-.061,-.347,.104,-.347,.104,-.321,.104,-.321,.104,-.321,-.145,-.321,-.145,-.385,-.145,-.474,.102,-.474,.022,-.474,.022,-.436,.022,-.436,.022,-.436,.102,-.436,.102,-.474,.102,-.423,-.104,-.423,-.145,-.423,-.145,-.5,-.145,-.5,-.145,-.5,.145,-.5,.145,-.423,.145,-.423,.145,-.423,.104,-.423,.104,-.41,.104,-.41,.104,-.41,.019,-.41,.019,-.436,.019,-.436,.019,-.436,-.019,-.436,-.019,-.41,-.019,-.41,-.019,-.41,-.104,-.41,-.104,-.423,-.104,-.474,-.102,-.436,-.102,-.436,-.102,-.436,-.022,-.436,-.022,-.474,-.022,-.474,-.022,-.474,-.102);"
 "const int V=736;"
 "const float U[V]=float[V](.473,-.087,.473,-.029,.473,-.029,.5,-.029,.5,-.029,.5,-.087,.5,-.087,.473,-.087,.406,-.001,.406,-.057,.406,-.057,.432,-.057,.432,-.057,.432,-.001,.432,-.001,.406,-.001,.378,-.058,.378,.001,.378,.001,.392,.001,.392,.001,.392,.03,.392,.03,.432,.03,.432,.03,.432,.057,.432,.057,.392,.057,.392,.057,.392,.087,.392,.087,.446,.087,.446,.087,.446,.058,.446,.058,.459,.058,.459,.058,.459,-.058,.459,-.058,.446,-.058,.446,-.058,.446,-.087,.446,-.087,.392,-.087,.392,-.087,.392,-.058,.392,-.058,.378,-.058,.284,-.087,.284,.116,.284,.116,.311,.116,.311,.116,.311,.001,.311,.001,.324,.001,.324,.001,.324,.03,.324,.03,.337,.03,.337,.03,.337,.087,.337,.087,.365,.087,.365,.087,.365,.028,.365,.028,.351,.028,.351,.028,.351,-.001,.351,-.001,.338,-.001,.338,-.001,.338,-.028,.338,-.028,.351,-.028,.351,-.028,.351,-.057,.351,-.057,.365,-.057,.365,-.057,.365,-.087,.365,-.087,.337,-.087,.337,-.087,.337,-.058,.337,-.058,.324,-.058,.324,-.058,.324,-.029,.324,-.029,.311,-.029,.311,-.029,.311,-.087,.311,-.087,.284,-.087,.243,.115,.243,.145,.243,.145,.27,.145,.27,.145,.27,.115,.27,.115,.243,.115,.243,-.087,.243,.057,.243,.057,.23,.057,.23,.057,.23,.087,.23,.087,.27,.087,.27,.087,.27,-.087,.27,-.087,.243,-.087,.189,-.087,.189,.086,.189,.086,.176,.086,.176,.086,.176,.116,.176,.116,.216,.116,.216,.116,.216,-.087,.216,-.087,.189,-.087,.109,-.057,.135,-.057,.135,-.057,.135,.057,.135,.057,.109,.057,.109,.057,.109,-.057,.094,-.087,.094,-.058,.094,-.058,.081,-.058,.081,-.058,.081,.058,.081,.058,.094,.058,.094,.058,.094,.087,.094,.087,.149,.087,.149,.087,.149,.058,.149,.058,.162,.058,.162,.058,.162,-.058,.162,-.058,.149,-.058,.149,-.058,.149,-.087,.149,-.087,.094,-.087,-.014,-.087,-.014,.116,-.014,.116,.014,.116,.014,.116,.014,.087,.014,.087,.054,.087,.054,.087,.054,.058,.054,.058,.068,.058,.068,.058,.068,-.087,.068,-.087,.04,-.087,.04,-.087,.04,.057,.04,.057,.027,.057,.027,.057,.027,.028,.027,.028,.014,.028,.014,.028,.014,-.087,.014,-.087,-.014,-.087,-.081,-.057,-.054,-.057,-.054,-.057,-.054,.057,-.054,.057,-.081,.057,-.081,.057,-.081,-.057,-.095,-.087,-.095,-.058,-.095,-.058,-.108,-.058,-.108,-.058,-.108,.058,-.108,.058,-.095,.058,-.095,.058,-.095,.087,-.095,.087,-.04,.087,-.04,.087,-.04,.058,-.04,.058,-.027,.058,-.027,.058,-.027,-.058,-.027,-.058,-.04,-.058,-.04,-.058,-.04,-.087,-.04,-.087,-.095,-.087,-.189,-.087,-.189,-.058,-.189,-.058,-.203,-.058,-.203,-.058,-.203,.058,-.203,.058,-.189,.058,-.189,.058,-.189,.087,-.189,.087,-.135,.087,-.135,.087,-.135,.058,-.135,.058,-.122,.058,-.122,.058,-.122,.028,-.122,.028,-.149,.028,-.149,.028,-.149,.057,-.149,.057,-.175,.057,-.175,.057,-.175,-.057,-.175,-.057,-.149,-.057,-.149,-.057,-.149,-.028,-.149,-.028,-.122,-.028,-.122,-.028,-.122,-.058,-.122,-.058,-.135,-.058,-.135,-.058,-.135,-.087,-.135,-.087,-.189,-.087,-.284,-.145,-.284,-.115,-.284,-.115,-.244,-.115,-.244,-.115,-.244,-.087,-.244,-.087,-.284,-.087,-.284,-.087,-.284,-.059,-.284,-.059,-.297,-.059,-.297,-.059,-.297,.087,-.297,.087,-.27,.087,-.27,.087,-.27,-.057,-.27,-.057,-.244,-.057,-.244,-.057,-.244,.087,-.244,.087,-.216,.087,-.216,.087,-.216,-.116,-.216,-.116,-.23,-.116,-.23,-.116,-.23,-.145,-.23,-.145,-.284,-.145,-.392,-.058,-.392,-.028,-.392,-.028,-.364,-.028,-.364,-.028,-.364,-.057,-.364,-.057,-.338,-.057,-.338,-.057,-.338,-.001,-.338,-.001,-.379,-.001,-.379,-.001,-.379,.028,-.379,.028,-.392,.028,-.392,.028,-.392,.058,-.392,.058,-.379,.058,-.379,.058,-.379,.087,-.379,.087,-.324,.087,-.324,.087,-.324,.057,-.324,.057,-.364,.057,-.364,.057,-.364,.03,-.364,.03,-.324,.03,-.324,.03,-.324,.001,-.324,.001,-.311,.001,-.311,.001,-.311,-.058,-.311,-.058,-.324,-.058,-.324,-.058,-.324,-.087,-.324,-.087,-.379,-.087,-.379,-.087,-.379,-.058,-.379,-.058,-.392,-.058,-.472,.086,-.472,.001,-.472,.001,-.433,.001,-.433,.001,-.433,.086,-.433,.086,-.472,.086,-.5,-.087,-.5,.116,-.5,.116,-.419,.116,-.419,.116,-.419,.087,-.419,.087,-.405,.087,-.405,.087,-.405,-.001,-.405,-.001,-.419,-.001,-.419,-.001,-.419,-.029,-.419,-.029,-.472,-.029,-.472,-.029,-.472,-.087,-.472,-.087,-.5,-.087);"
 "const int T=568;"
 "const float S[T]=float[T](.448,-.081,.448,-.049,.448,-.049,.431,-.049,.431,-.049,.431,.079,.431,.079,.414,.079,.414,.079,.414,.113,.414,.113,.431,.113,.431,.113,.431,.145,.431,.145,.466,.145,.466,.145,.466,.113,.466,.113,.483,.113,.483,.113,.483,.079,.483,.079,.466,.079,.466,.079,.466,-.047,.466,-.047,.5,-.047,.5,-.047,.5,-.081,.5,-.081,.448,-.081,.327,-.081,.327,.047,.327,.047,.31,.047,.31,.047,.31,.081,.31,.081,.327,.081,.327,.081,.327,.113,.327,.113,.344,.113,.344,.113,.344,.145,.344,.145,.397,.145,.397,.145,.397,.111,.397,.111,.362,.111,.362,.111,.362,.081,.362,.081,.379,.081,.379,.081,.379,.047,.379,.047,.362,.047,.362,.047,.362,-.081,.362,-.081,.327,-.081,.225,.015,.225,-.047,.225,-.047,.258,-.047,.258,-.047,.258,.015,.258,.015,.225,.015,.19,-.049,.19,.017,.19,.017,.207,.017,.207,.017,.207,.049,.207,.049,.258,.049,.258,.049,.258,.079,.258,.079,.207,.079,.207,.079,.207,.113,.207,.113,.276,.113,.276,.113,.276,.081,.276,.081,.293,.081,.293,.081,.293,-.049,.293,-.049,.276,-.049,.276,-.049,.276,-.081,.276,-.081,.207,-.081,.207,-.081,.207,-.049,.207,-.049,.19,-.049,.069,-.049,.069,-.015,.069,-.015,.104,-.015,.104,-.015,.104,-.047,.104,-.047,.137,-.047,.137,-.047,.137,.015,.137,.015,.086,.015,.086,.015,.086,.047,.086,.047,.069,.047,.069,.047,.069,.081,.069,.081,.086,.081,.086,.081,.086,.113,.086,.113,.155,.113,.155,.113,.155,.079,.155,.079,.104,.079,.104,.079,.104,.049,.104,.049,.155,.049,.155,.049,.155,.017,.155,.017,.172,.017,.172,.017,.172,-.049,.172,-.049,.155,-.049,.155,-.049,.155,-.081,.155,-.081,.086,-.081,.086,-.081,.086,-.049,.086,-.049,.069,-.049,.017,-.081,.017,.111,.017,.111,0.,.111,0.,.111,0.,.145,0.,.145,.052,.145,.052,.145,.052,-.081,.052,-.081,.017,-.081,-.086,.079,-.086,.017,-.086,.017,-.052,.017,-.052,.017,-.052,.079,-.052,.079,-.086,.079,-.104,-.081,-.104,-.049,-.104,-.049,-.121,-.049,-.121,-.049,-.121,.081,-.121,.081,-.104,.081,-.104,.081,-.104,.113,-.104,.113,-.034,.113,-.034,.113,-.034,.081,-.034,.081,-.017,.081,-.017,.081,-.017,-.017,-.017,-.017,-.086,-.017,-.086,-.017,-.086,-.047,-.086,-.047,-.034,-.047,-.034,-.047,-.034,-.081,-.034,-.081,-.104,-.081,-.206,-.047,-.173,-.047,-.173,-.047,-.173,.079,-.173,.079,-.206,.079,-.206,.079,-.206,-.047,-.224,-.145,-.224,-.111,-.224,-.111,-.173,-.111,-.173,-.111,-.173,-.081,-.173,-.081,-.224,-.081,-.224,-.081,-.224,-.049,-.224,-.049,-.241,-.049,-.241,-.049,-.241,.081,-.241,.081,-.224,.081,-.224,.081,-.224,.113,-.224,.113,-.138,.113,-.138,.113,-.138,-.113,-.138,-.113,-.155,-.113,-.155,-.113,-.155,-.145,-.155,-.145,-.224,-.145,-.362,-.081,-.362,.113,-.362,.113,-.259,.113,-.259,.113,-.259,.079,-.259,.079,-.31,.079,-.31,.079,-.31,.047,-.31,.047,-.327,.047,-.327,.047,-.327,-.081,-.327,-.081,-.362,-.081,-.465,-.047,-.414,-.047,-.414,-.047,-.414,.111,-.414,.111,-.465,.111,-.465,.111,-.465,-.047,-.483,-.081,-.483,-.049,-.483,-.049,-.5,-.049,-.5,-.049,-.5,.113,-.5,.113,-.483,.113,-.483,.113,-.483,.145,-.483,.145,-.396,.145,-.396,.145,-.396,.113,-.396,.113,-.379,.113,-.379,.113,-.379,-.049,-.379,-.049,-.396,-.049,-.396,-.049,-.396,-.081,-.396,-.081,-.483,-.081);"
 "const int R=616;"
 "const float Q[R]=float[R](.472,-.145,.472,-.072,.472,-.072,.5,-.072,.5,-.072,.5,-.145,.5,-.145,.472,-.145,.402,-.107,.429,-.107,.429,-.107,.429,.035,.429,.035,.402,.035,.402,.035,.402,-.107,.387,-.145,.387,-.109,.387,-.109,.373,-.109,.373,-.109,.373,.037,.373,.037,.387,.037,.387,.037,.387,.073,.387,.073,.429,.073,.429,.073,.429,.109,.429,.109,.458,.109,.458,.109,.458,-.145,.458,-.145,.387,-.145,.331,.107,.331,.145,.331,.145,.359,.145,.359,.145,.359,.107,.359,.107,.331,.107,.331,-.145,.331,.035,.331,.035,.317,.035,.317,.035,.317,.073,.317,.073,.359,.073,.359,.073,.359,-.145,.359,-.145,.331,-.145,.246,-.145,.246,-.109,.246,-.109,.232,-.109,.232,-.109,.232,-.073,.232,-.073,.218,-.073,.218,-.073,.218,.072,.218,.072,.247,.072,.247,.072,.247,-.071,.247,-.071,.274,-.071,.274,-.071,.274,.072,.274,.072,.303,.072,.303,.072,.303,-.073,.303,-.073,.289,-.073,.289,-.073,.289,-.109,.289,-.109,.275,-.109,.275,-.109,.275,-.145,.275,-.145,.246,-.145,.148,-.107,.176,-.107,.176,-.107,.176,.035,.176,.035,.148,.035,.148,.035,.148,-.107,.134,-.145,.134,-.109,.134,-.109,.12,-.109,.12,-.109,.12,.037,.12,.037,.134,.037,.134,.037,.134,.072,.134,.072,.19,.072,.19,.072,.19,.037,.19,.037,.204,.037,.204,.037,.204,-.109,.204,-.109,.19,-.109,.19,-.109,.19,-.145,.19,-.145,.134,-.145,.021,-.109,.021,-.073,.021,-.073,.007,-.073,.007,-.073,.007,.037,.007,.037,.021,.037,.021,.037,.021,.073,.021,.073,.035,.073,.035,.073,.035,.109,.035,.109,.092,.109,.092,.109,.092,.073,.092,.073,.106,.073,.106,.073,.106,.035,.106,.035,.077,.035,.077,.035,.077,.071,.077,.071,.05,.071,.05,.071,.05,.035,.05,.035,.036,.035,.036,.035,.036,-.071,.036,-.071,.05,-.071,.05,-.071,.05,-.107,.05,-.107,.077,-.107,.077,-.107,.077,-.071,.077,-.071,.106,-.071,.106,-.071,.106,-.109,.106,-.109,.092,-.109,.092,-.109,.092,-.145,.092,-.145,.035,-.145,.035,-.145,.035,-.109,.035,-.109,.021,-.109,-.19,-.145,-.19,.109,-.19,.109,-.162,.109,-.162,.109,-.162,-.035,-.162,-.035,-.148,-.035,-.148,-.035,-.148,.001,-.148,.001,-.134,.001,-.134,.001,-.134,.073,-.134,.073,-.106,.073,-.106,.073,-.106,-.001,-.106,-.001,-.12,-.001,-.12,-.001,-.12,-.037,-.12,-.037,-.134,-.037,-.134,-.037,-.134,-.071,-.134,-.071,-.12,-.071,-.12,-.071,-.12,-.107,-.12,-.107,-.106,-.107,-.106,-.107,-.106,-.145,-.106,-.145,-.134,-.145,-.134,-.145,-.134,-.109,-.134,-.109,-.148,-.109,-.148,-.109,-.148,-.073,-.148,-.073,-.162,-.073,-.162,-.073,-.162,-.145,-.162,-.145,-.19,-.145,-.275,-.145,-.275,-.109,-.275,-.109,-.289,-.109,-.289,-.109,-.289,.037,-.289,.037,-.275,.037,-.275,.037,-.275,.072,-.275,.072,-.218,.072,-.218,.072,-.218,.037,-.218,.037,-.204,.037,-.204,.037,-.204,-.001,-.204,-.001,-.233,-.001,-.233,-.001,-.233,.035,-.233,.035,-.26,.035,-.26,.035,-.26,-.107,-.26,-.107,-.233,-.107,-.233,-.107,-.233,-.071,-.233,-.071,-.204,-.071,-.204,-.071,-.204,-.109,-.204,-.109,-.218,-.109,-.218,-.109,-.218,-.145,-.218,-.145,-.275,-.145,-.373,-.145,-.373,-.109,-.373,-.109,-.387,-.109,-.387,-.109,-.387,.072,-.387,.072,-.359,.072,-.359,.072,-.359,-.107,-.359,-.107,-.345,-.107,-.345,-.107,-.345,-.071,-.345,-.071,-.331,-.071,-.331,-.071,-.331,.072,-.331,.072,-.303,.072,-.303,.072,-.303,-.145,-.303,-.145,-.373,-.145,-.5,-.145,-.5,.109,-.5,.109,-.401,.109,-.401,.109,-.401,.071,-.401,.071,-.471,.071,-.471,.071,-.471,.001,-.471,.001,-.415,.001,-.415,.001,-.415,-.037,-.415,-.037,-.471,-.037,-.471,-.037,-.471,-.145,-.471,-.145,-.5,-.145);"
 "const int P=1128;"
 "const float O[P]=float[P](.485,-.087,.485,-.029,.485,-.029,.5,-.029,.5,-.029,.5,-.087,.5,-.087,.485,-.087,.446,-.087,.446,.028,.446,.028,.439,.028,.439,.028,.439,.058,.439,.058,.446,.058,.446,.058,.446,.087,.446,.087,.454,.087,.454,.087,.454,.116,.454,.116,.477,.116,.477,.116,.477,.086,.477,.086,.462,.086,.462,.086,.462,.058,.462,.058,.47,.058,.47,.058,.47,.028,.47,.028,.462,.028,.462,.028,.462,-.087,.462,-.087,.446,-.087,.401,.057,.401,-.057,.401,-.057,.416,-.057,.416,-.057,.416,.057,.416,.057,.401,.057,.385,-.145,.385,.087,.385,.087,.424,.087,.424,.087,.424,.058,.424,.058,.431,.058,.431,.058,.431,-.059,.431,-.059,.424,-.059,.424,-.059,.424,-.087,.424,-.087,.401,-.087,.401,-.087,.401,-.145,.401,-.145,.385,-.145,.348,-.057,.362,-.057,.362,-.057,.362,.057,.362,.057,.348,.057,.348,.057,.348,-.057,.34,-.087,.34,-.058,.34,-.058,.332,-.058,.332,-.058,.332,.058,.332,.058,.34,.058,.34,.058,.34,.087,.34,.087,.37,.087,.37,.087,.37,.058,.37,.058,.378,.058,.378,.058,.378,-.058,.378,-.058,.37,-.058,.37,-.058,.37,-.087,.37,-.087,.34,-.087,.301,-.087,.301,-.058,.301,-.058,.294,-.058,.294,-.058,.294,.057,.294,.057,.286,.057,.286,.057,.286,.087,.286,.087,.294,.087,.294,.087,.294,.116,.294,.116,.309,.116,.309,.116,.309,.087,.309,.087,.317,.087,.317,.087,.317,.057,.317,.057,.309,.057,.309,.057,.309,-.057,.309,-.057,.324,-.057,.324,-.057,.324,-.087,.324,-.087,.301,-.087,.233,-.087,.233,.087,.233,.087,.271,.087,.271,.087,.271,.058,.271,.058,.279,.058,.279,.058,.279,-.087,.279,-.087,.263,-.087,.263,-.087,.263,.057,.263,.057,.256,.057,.256,.057,.256,.028,.256,.028,.248,.028,.248,.028,.248,-.087,.248,-.087,.233,-.087,.21,.115,.21,.145,.21,.145,.225,.145,.225,.145,.225,.115,.225,.115,.21,.115,.21,-.087,.21,.057,.21,.057,.202,.057,.202,.057,.202,.087,.202,.087,.225,.087,.225,.087,.225,-.087,.225,-.087,.21,-.087,.164,.057,.164,.001,.164,.001,.179,.001,.179,.001,.179,.057,.179,.057,.164,.057,.156,-.087,.156,-.058,.156,-.058,.149,-.058,.149,-.058,.149,.058,.149,.058,.156,.058,.156,.058,.156,.087,.156,.087,.187,.087,.187,.087,.187,.058,.187,.058,.195,.058,.195,.058,.195,-.03,.195,-.03,.164,-.03,.164,-.03,.164,-.057,.164,-.057,.187,-.057,.187,-.057,.187,-.087,.187,-.087,.156,-.087,.095,-.087,.095,.087,.095,.087,.141,.087,.141,.087,.141,.057,.141,.057,.118,.057,.118,.057,.118,.028,.118,.028,.111,.028,.111,.028,.111,-.087,.111,-.087,.095,-.087,.057,.057,.057,.001,.057,.001,.072,.001,.072,.001,.072,.057,.072,.057,.057,.057,.05,-.087,.05,-.058,.05,-.058,.042,-.058,.042,-.058,.042,.058,.042,.058,.05,.058,.05,.058,.05,.087,.05,.087,.08,.087,.08,.087,.08,.058,.08,.058,.088,.058,.088,.058,.088,-.03,.088,-.03,.057,-.03,.057,-.03,.057,-.057,.057,-.057,.08,-.057,.08,-.057,.08,-.087,.08,-.087,.05,-.087,.027,-.058,.027,-.087,.027,-.087,-.011,-.087,-.011,-.087,-.011,.116,-.011,.116,.004,.116,.004,.116,.004,.087,.004,.087,.027,.087,.027,.087,.027,.058,.027,.058,.034,.058,.034,.058,.034,-.058,.034,-.058,.027,-.058,.004,-.057,.019,-.057,.019,-.057,.019,.057,.019,.057,.004,.057,.004,.057,.004,-.057,-.057,-.087,-.057,-.058,-.057,-.058,-.065,-.058,-.065,-.058,-.065,.087,-.065,.087,-.049,.087,-.049,.087,-.049,-.057,-.049,-.057,-.042,-.057,-.042,-.057,-.042,-.028,-.042,-.028,-.035,-.028,-.035,-.028,-.035,.087,-.035,.087,-.019,.087,-.019,.087,-.019,-.087,-.019,-.087,-.057,-.087,-.103,-.001,-.103,-.057,-.103,-.057,-.088,-.057,-.088,-.057,-.088,-.001,-.088,-.001,-.103,-.001,-.118,-.058,-.118,.001,-.118,.001,-.111,.001,-.111,.001,-.111,.03,-.111,.03,-.088,.03,-.088,.03,-.088,.057,-.088,.057,-.111,.057,-.111,.057,-.111,.087,-.111,.087,-.08,.087,-.08,.087,-.08,.058,-.08,.058,-.073,.058,-.073,.058,-.073,-.058,-.073,-.058,-.08,-.058,-.08,-.058,-.08,-.087,-.08,-.087,-.111,-.087,-.111,-.087,-.111,-.058,-.111,-.058,-.118,-.058,-.172,-.087,-.172,.087,-.172,.087,-.126,.087,-.126,.087,-.126,.057,-.126,.057,-.149,.057,-.149,.057,-.149,.028,-.149,.028,-.156,.028,-.156,.028,-.156,-.087,-.156,-.087,-.172,-.087,-.225,-.087,-.225,.116,-.225,.116,-.21,.116,-.21,.116,-.21,.087,-.21,.087,-.187,.087,-.187,.087,-.187,.058,-.187,.058,-.179,.058,-.179,.058,-.179,-.087,-.179,-.087,-.195,-.087,-.195,-.087,-.195,.057,-.195,.057,-.202,.057,-.202,.057,-.202,.028,-.202,.028,-.21,.028,-.21,.028,-.21,-.087,-.21,-.087,-.225,-.087,-.271,-.087,-.271,-.058,-.271,-.058,-.279,-.058,-.279,-.058,-.279,.058,-.279,.058,-.271,.058,-.271,.058,-.271,.087,-.271,.087,-.24,.087,-.24,.087,-.24,.058,-.24,.058,-.233,.058,-.233,.058,-.233,.028,-.233,.028,-.248,.028,-.248,.028,-.248,.057,-.248,.057,-.263,.057,-.263,.057,-.263,-.057,-.263,-.057,-.248,-.057,-.248,-.057,-.248,-.028,-.248,-.028,-.233,-.028,-.233,-.028,-.233,-.058,-.233,-.058,-.24,-.058,-.24,-.058,-.24,-.087,-.24,-.087,-.271,-.087,-.332,-.058,-.332,-.028,-.332,-.028,-.317,-.028,-.317,-.028,-.317,-.057,-.317,-.057,-.302,-.057,-.302,-.057,-.302,-.001,-.302,-.001,-.325,-.001,-.325,-.001,-.325,.028,-.325,.028,-.332,.028,-.332,.028,-.332,.058,-.332,.058,-.325,.058,-.325,.058,-.325,.087,-.325,.087,-.294,.087,-.294,.087,-.294,.057,-.294,.057,-.317,.057,-.317,.057,-.317,.03,-.317,.03,-.294,.03,-.294,.03,-.294,.001,-.294,.001,-.286,.001,-.286,.001,-.286,-.058,-.286,-.058,-.294,-.058,-.294,-.058,-.294,-.087,-.294,-.087,-.325,-.087,-.325,-.087,-.325,-.058,-.325,-.058,-.332,-.058,-.347,-.058,-.347,-.087,-.347,-.087,-.385,-.087,-.385,-.087,-.385,.116,-.385,.116,-.37,.116,-.37,.116,-.37,.087,-.37,.087,-.347,.087,-.347,.087,-.347,.058,-.347,.058,-.34,.058,-.34,.058,-.34,-.058,-.34,-.058,-.347,-.058,-.37,-.057,-.355,-.057,-.355,-.057,-.355,.057,-.355,.057,-.37,.057,-.37,.057,-.37,-.057,-.431,-.087,-.431,-.058,-.431,-.058,-.439,-.058,-.439,-.058,-.439,.087,-.439,.087,-.423,.087,-.423,.087,-.423,-.057,-.423,-.057,-.416,-.057,-.416,-.057,-.416,-.028,-.416,-.028,-.409,-.028,-.409,-.028,-.409,.087,-.409,.087,-.393,.087,-.393,.087,-.393,-.087,-.393,-.087,-.431,-.087,-.5,-.087,-.5,.116,-.5,.116,-.484,.116,-.484,.116,-.484,.03,-.484,.03,-.462,.03,-.462,.03,-.462,.116,-.462,.116,-.447,.116,-.447,.116,-.447,-.087,-.447,-.087,-.462,-.087,-.462,-.087,-.462,-.001,-.462,-.001,-.484,-.001,-.484,-.001,-.484,-.087,-.484,-.087,-.5,-.087),N[7]=float[7](10.,20.,30.,40.,50.,60.,80.);"
 "float M=.707;"
 "vec3 D(vec3 v,vec3 m)"
 "{"
   "if(v.y<m.y)"
     "return v;"
   "return m;"
 "}"
 "float L(vec2 v)"
 "{"
   "float i;"
   "v*=.7;"
   "float y=1.,x=0.;"
   "for(int m=0;m<X/4;++m)"
     "{"
       "vec2 f=vec2(W[4*m],W[4*m+1]),z=vec2(W[4*m+2],W[4*m+3]),s=v-f,c=z-f;"
       "float d=s.x/c.x,j=c.y*s.x/c.x-s.y;"
       "x+=step(0.,d)*step(d,1.)*step(0.,j);"
       "y=min(y,D(v,f,z));"
     "}"
   "y=mix(y,-y,mod(x,2.));"
   "y/=.7;"
   "return y;"
 "}"
 "float K(vec2 v)"
 "{"
   "float i;"
   "v*=.7;"
   "float y=1.,x=0.;"
   "for(int m=0;m<V/4;++m)"
     "{"
       "vec2 f=vec2(U[4*m],U[4*m+1]),z=vec2(U[4*m+2],U[4*m+3]),s=v-f,c=z-f;"
       "float d=s.x/c.x,j=c.y*s.x/c.x-s.y;"
       "x+=step(0.,d)*step(d,1.)*step(0.,j);"
       "y=min(y,D(v,f,z));"
     "}"
   "y=mix(y,-y,mod(x,2.));"
   "y/=.7;"
   "return y;"
 "}"
 "float J(vec2 v)"
 "{"
   "float i;"
   "v*=.7;"
   "float y=1.,x=0.;"
   "for(int m=0;m<T/4;++m)"
     "{"
       "vec2 f=vec2(S[4*m],S[4*m+1]),z=vec2(S[4*m+2],S[4*m+3]),s=v-f,c=z-f;"
       "float d=s.x/c.x,j=c.y*s.x/c.x-s.y;"
       "x+=step(0.,d)*step(d,1.)*step(0.,j);"
       "y=min(y,D(v,f,z));"
     "}"
   "y=mix(y,-y,mod(x,2.));"
   "y/=.7;"
   "return y;"
 "}"
 "float I(vec2 v)"
 "{"
   "float i;"
   "v*=.7;"
   "float y=1.,x=0.;"
   "for(int m=0;m<R/4;++m)"
     "{"
       "vec2 f=vec2(Q[4*m],Q[4*m+1]),z=vec2(Q[4*m+2],Q[4*m+3]),s=v-f,c=z-f;"
       "float d=s.x/c.x,j=c.y*s.x/c.x-s.y;"
       "x+=step(0.,d)*step(d,1.)*step(0.,j);"
       "y=min(y,D(v,f,z));"
     "}"
   "y=mix(y,-y,mod(x,2.));"
   "y/=.7;"
   "return y;"
 "}"
 "float H(vec2 v)"
 "{"
   "float i;"
   "v*=.7;"
   "float y=1.,x=0.;"
   "for(int m=0;m<P/4;++m)"
     "{"
       "vec2 f=vec2(O[4*m],O[4*m+1]),z=vec2(O[4*m+2],O[4*m+3]),s=v-f,c=z-f;"
       "float d=s.x/c.x,j=c.y*s.x/c.x-s.y;"
       "x+=step(0.,d)*step(d,1.)*step(0.,j);"
       "y=min(y,D(v,f,z));"
     "}"
   "y=mix(y,-y,mod(x,2.));"
   "y/=.7;"
   "return y;"
 "}"
 "float H(float v,float y,float m)"
 "{"
   "float x=max(m-abs(v-y),0.)/m;"
   "return min(v,y)-x*x*m*.25;"
 "}"
 "float I(vec3 v,float y,float x)"
 "{"
   "vec3 z=y*vec3(m.zy,-M),f=y*vec3(m.xy,-M),s=y*vec3(m.yx,M),c=y*vec3(m.yz,M);"
   "return min(min(min(p(v,z,f),p(v,f,s)),min(p(v,s,c),p(v,c,z))),min(p(v,f,c),p(v,z,s)))-x;"
 "}"
 "float G=1.,E=1.,B=1.;"
 "vec3 A(vec3 y)"
 "{"
   "vec3 f;"
   "if(v<0.)"
     ";"
   "else"
     " if(v<N[0])"
       "{"
         "l=F(.4*v*vec3(1.1,1.3,1.7));"
         "vec3 i=l*y;"
         "f=D(vec3(5.,C(i,1.2),0.),vec3(1.,-b(y-.01*m.yyx*u(y.xy),2.*m.xxx+m.xyy),0.));"
       "}"
     "else"
       " if(v<N[1])"
         "{"
           "float z=b(y,vec3(1.,.4,.2));"
           "f=D(vec3(6.,z<.01?b(y.z,mod(floor(a/2.),2.)==0.?L(vec2(1.1,2.4)*(y.xy-.01*m.yx)):K(vec2(1.1,1.7)*y.xy),.1):z,0.),vec3(1.,-b(y,2.*m.xxx+m.xyy),0.));"
         "}"
       "else"
         " if(v<N[2])"
           "{"
             "y.xy-=vec2(.4,-.2);"
             "float i=length(y)-.5;"
             "f=vec3(1.,-b(y,2.*m.xxx+m.xyy),0.);"
             "if(i<.01)"
               "{"
                 "float z=1.;"
                 "for(int c=0;c<8;++c)"
                   "{"
                     "l=F(2.*(-.4+.8*g(4.*float(c+55)))*v*vec3(1.1,1.3,1.7));"
                     "float s=length(l*y-.15+.3*g(4.*float(c+2)))-.01-.2*o(4.*float(c+23));"
                     "z=H(z,s,.05);"
                   "}"
                 "f=D(f,vec3(7.,z,0.));"
               "}"
             "else"
               " f=D(f,vec3(7.,i,0.));"
           "}"
         "else"
           " if(v<N[3])"
             "{"
               "y.xy-=vec2(.4,-.2);"
               "float i=length(y)-.5,s=.2;"
               "f=vec3(1.,-b(y,2.*m.xxx+m.xyy),0.);"
               "if(i<.01)"
                 "{"
                   "l=F(.4*v*vec3(1.1,1.3,1.7));"
                   "y=l*y;"
                   "vec3 z;"
                   "vec2 c;"
                   "B=.32;"
                   "float d=length(y)-B;"
                   "vec3 ab=y;"
                   "for(int n=0;n<4;++n)"
                     "{"
                       "mat3 t=F(2.*x*(2.*g(float(n+23))-1.));"
                       "ab=t*ab;"
                       "c=h(normalize(ab),40.,z);"
                       "ab-=z*B*(1.+.05*s);"
                       "B*=s;"
                       "float j=length(ab)-B;"
                       "d=min(d,j);"
                       "G=j<.0001?float(n)+13.:G;"
                     "}"
                   "f=D(f,vec3(8.,d,0.));"
                 "}"
               "else"
                 " f=D(f,vec3(8.,i,0.));"
             "}"
           "else"
             " if(v<N[4])"
               "{"
                 "y.xy-=vec2(.4,-.2);"
                 "f=vec3(1.,-b(y,2.*m.xxx+m.xyy),0.);"
                 "vec3 s=m.yxy*y-.1*vec3(cos(3.*y.y-v),0.,sin(3.*y.y-v)),z=vec3(cos(3.*y.y-v),0.,sin(3.*y.y-v));"
                 "mat3 i=Y(z),c=transpose(i);"
                 "vec3 d=c*(y-s);"
                 "d.x=abs(d.x)-.1;"
                 "d.z=abs(d.z)-.2;"
                 "f=D(f,vec3(9.,b(d,vec3(.003,.1,.1)),0.));"
                 "float j=.5;"
                 "vec3 ab=vec3(y.x-s.x,mod(y.y-.3*v,j)-.5*j,y.z-s.z);"
                 "float n=y.y-.3*v-ab.y;"
                 "f=D(f,vec3(10.,length(ab+s.xyz*m.xyx-(.4*g(n+12.35)-.2)*m.xyx)-(.3+.2*o(n))*j,0.));"
               "}"
             "else"
               " if(v<N[5])"
                 "{"
                   "y.xy-=vec2(.4,-.2);"
                   "f=vec3(1.,-b(y,2.*m.xxx+m.xyy),0.);"
                   "for(int i=0;i<3;++i)"
                     "{"
                       "l=F((-1.+2.*g(2.+i))*2.*x+v*.3);"
                       "B=.5+.5*o(float(i+6));"
                       "float z=F(l*y-(-.3+.6*g(float(4*i+3))),6,16,.2*B,true);"
                       "f=D(f,vec3(3.,z,0.));"
                       "f=D(f,vec3(4.,F(l*y-(-.3+.6*g(float(4*i+3))),0,6,.1825*B,true),0.));"
                       "G=z<.001?4.*float(i)+13.:G;"
                     "}"
                 "}"
               "else"
                 " if(v<N[6])"
                   "{"
                     "float i=length(y)-.5;"
                     "f=vec3(1.,-b(y,2.*m.xxx+m.xyy),0.);"
                     "if(i<.01)"
                       "{"
                         "l=F(m.xxx*2.*x+v*.3);"
                         "f=vec3(1.,-b(y,2.*m.xxx+m.xyy),0.);"
                         "float c=floor(2.*(.5+.5*u(.5*e*m.xx))),z,s=.3,j=10.;"
                         "for(float d=s/j;d<=s;d+=s/j)"
                           "{"
                             "vec3 ab=F(u((e+d+1335.)*m.xx)*d/s*x*m.xxy)*l*y;"
                             "if(u(.5*e*m.xx+13.23)<0.)"
                               "{"
                                 "if(c<1.)"
                                   "z=Y(ab,.6*d*m.xxx,mix(.05,.1,.5+.5*u(.5*e*m.xx-13.))*d);"
                                 "else"
                                   " z=I(ab,.9*d,mix(.025,.05,.5+.5*u(.5*e*m.xx+13.))*d);"
                               "}"
                             "else"
                               "{"
                                 "if(c<1.)"
                                   "z=F(ab.xy,.5*d,d,7.);"
                                 "else"
                                   " if(c<2.)"
                                     "z=(length(ab.xy)-.5*d-.5*d*abs(cos(4.*atan(ab.y,ab.x))))/2.;"
                                   "else"
                                     " z=length(ab.xy)-d;"
                                 "z=abs(z)-mix(.075,.475,r)*s/j;"
                                 "z=b(ab.z,z,mix(.05,.75,.5+.5*u(.5*e*m.xx-13.3))*s/j);"
                               "}"
                             "if(z-.01-.001<.001)"
                               "G=d;"
                             "f=D(f,vec3(12.,z-.003-.001,0.));"
                           "}"
                       "}"
                     "else"
                       " f=D(f,vec3(0.,i,0.));"
                   "}"
                 "else"
                   "{"
                     "float z=-b(y.z,length(y.xy)-G*(1.+.2*sin(y.z)),1000.);"
                     "f=vec3(0.,z,0.);"
                     "f=D(f,vec3(1.,y.z+4.,0.));"
                     "if(v>100.)"
                       "{"
                         "float s=2.,d=mod(y.z-.4*v,s)-.5*s,c=y.z-.4*v-d,i=4.+round(8.*o(abs(c))),j=.1,ab=.025,n=atan(y.y,y.x);"
                         "vec3 t=vec3(cos(n),sin(n),0.),w=m.yyx,p=vec3(-sin(n),cos(n),0.),M=j*t+.5*w+ab*t*cos(i*n-v)+ab*w*sin(i*n-v),W=j*p+ab*vec3(-sin(n)*cos(i*n-v)-i*cos(n)*sin(i*n-v),cos(n)*cos(i*n-v)-i*sin(n)*sin(i*n-v),0.)+ab*w*i*cos(i*n-v);"
                         "mat3 U=Y(normalize(W)),S=transpose(U);"
                         "z=length(S*(vec3(y.xy,d)-M))-ab;"
                         "f=D(f,vec3(10.,z,0.));"
                         "M=j*t+.5*w;"
                         "W=j*p;"
                         "U=Y(normalize(W));"
                         "S=transpose(U);"
                         "z=length(S*(vec3(y.xy,d)-M))-ab;"
                         "f=D(f,vec3(9.,z,0.));"
                       "}"
                   "}"
   "return f;"
 "}"
 "vec3 k(float v)"
 "{"
   "v=abs(v);"
   "const int y=4;"
   "vec3 m[y]=vec3[y](vec3(.91,.44,.32),vec3(.91,.77,.42),vec3(.16,.62,.56),vec3(.15,.27,.33));"
   "float x=floor(v),f=mod(x+1.,float(y));"
   "return mix(m[int(x)],m[int(f)],fract(v));"
 "}"
 "float j(in float v)"
 "{"
   "return smoothstep(1.5/s.y,-1.5/s.y,v);"
 "}"
 "vec3 ab(vec2 y)"
 "{"
   "float x=.5,f=mod(y.y-.4*v,x)-.5*x,z=abs(f)-.05;"
   "return mix(m.yyy,m.xxx,j(z));"
 "}"
 "vec3 ac(vec2 y)"
 "{"
   "float x=.5,f=mod(y.x-.4*v,x)-.5*x,z=abs(f)-.05;"
   "return mix(m.yyy,m.xxx,j(z));"
 "}"
 "vec3 ad(vec2 y)"
 "{"
   "float x=.5,f=length(y),z=mod(f-.4*v,x)-.5*x,c=abs(z)-.05;"
   "return mix(m.yyy,m.xxx,j(c));"
 "}"
 "vec3 ae(vec2 y)"
 "{"
   "y-=.1*v;"
   "float f=x/15.;"
   "vec4 i=C(y/f)*f;"
   "return mix(m.yyy,m.xxx,j(F(mat2(cos(x/6.),sin(x/6.),-sin(x/6.),cos(x/6.))*i.xy,1.4*f*clamp(.4+u(4.*(mod(i.zw,2.*x)+13.+.3*v)),.1,1.),6.)));"
 "}"
 "vec3 af(vec2 y)"
 "{"
   "y-=.1*v;"
   "float f=x/15.;"
   "vec4 i=C(y/f)*f;"
   "i.z=mod(i.z,2.*x);"
   "vec2 c=h(10.*(i.zw+13.));"
   "float z=-x/6.+2.*x/3.*floor(c.y*2.99),s;"
   "mat2 a=mat2(cos(z),sin(z),-sin(z),cos(z)),d=mat2(cos(x/6.),sin(x/6.),-sin(x/6.),cos(x/6.)),l=transpose(d);"
   "if(c.x<=.7)"
     "{"
       "vec2 n=C(a*i.xy,.5*f*m.yz,.01*m.yy,.5*f*m.yx),G=C(a*i.xy,.5*f*l*l*m.yz,.01*m.yy,.5*f*d*d*m.yx),r=C(a*i.xy,.5*f*d*d*d*d*m.yz,.01*m.yy,.5*f*d*d*m.yz);"
       "s=min(min(n.x,G.x),r.x)-.01;"
     "}"
   "else"
     " if(c.x<=.9)"
       "{"
         "vec2 n=C(i.xy,.5*f*l*m.yz,.01*m.yy,.5*f*d*m.yz),G=C(i.xy,.5*f*l*m.yx,.01*m.yy,.5*f*l*l*l*m.yx),r=C(i.xy,.5*f*d*d*d*m.yx,.01*m.yy,.5*f*d*m.yx);"
         "s=min(min(n.x,G.x),r.x)-.01;"
       "}"
     "else"
       "{"
         "vec2 n=Z(a*i.xy,.5*f*m.yz,.5*f*m.yx),G=Z(a*i.xy,.5*d*d*f*m.yz,.5*f*d*d*m.yx),r=Z(a*i.xy,.5*l*l*f*m.yz,.5*f*l*l*m.yx);"
         "s=min(min(n.x,G.x),r.x)-.01;"
       "}"
   "return mix(m.yyy,m.xxx,j(s));"
 "}"
 "vec3 ag(vec2 y)"
 "{"
   "y-=.1*v;"
   "float f=x/14.;"
   "vec4 i=C(y/f)*f;"
   "i.z=mod(i.z,2.*x);"
   "vec2 c=h(10.*(i.zw+13.));"
   "float z=-x/6.+2.*x/3.*floor(c.y*2.99),s=.2*f;"
   "mat2 d=mat2(cos(z),sin(z),-sin(z),cos(z)),l=mat2(cos(x/6.),sin(x/6.),-sin(x/6.),cos(x/6.)),a=transpose(l);"
   "vec2 n=g(d*i.xy,.5*f*m.yz,.5*f*m.yx),G=g(d*i.xy,.5*f*a*a*m.yz,.5*f*l*l*m.yx),r=g(d*i.xy,.5*f*l*l*l*l*m.yz,.5*f*l*l*m.yz);"
   "float w=min(min(n.x-s,G.x-s*cos(x/3.)),r.x-s*cos(x/3.));"
   "return mix(m.yyy,m.xxx,j(-w));"
 "}"
 "vec2 ah;"
 "bool A(inout vec3 c,out vec3 y,inout float x,vec3 f,out vec3 i,vec3 z,vec3 ah,out vec3 s,int n)"
 "{"
   "for(int r=0;r<n;++r)"
     "{"
       "y=z+x*f;"
       "i=A(y);"
       "if(i.y<.0001)"
         "{"
           "float t=5e-05;"
           "s=normalize(vec3(A(y+t*m.xyy).y,A(y+t*m.yxy).y,A(y+t*m.yyx).y)-i.y);"
           "vec3 e=vec3(.5,.4,.3);"
           "float w=.1,M=.9;"
           "if(i.x==0.)"
             "{"
               "float p=o(a+13.),W=o(a+1.+13.);"
               "vec2 U=vec2(G*atan(y.y,y.x),y.z);"
               "if(p<.33)"
                 "c=ag(U);"
               "else"
                 " if(p<.66)"
                   "c=af(U);"
                 "else"
                   " c=ae(U);"
               "vec3 B;"
               "if(W<.33)"
                 "B=ag(U);"
               "else"
                 " if(W<.66)"
                   "B=af(U);"
                 "else"
                   " B=ae(U);"
               "c=mix(c,B,smoothstep(0.,.5*d,v-a*d+.5));"
               "M=.1;"
               "e=vec3(.4,.2,.1);"
             "}"
           "else"
             " if(i.x==1.)"
               "{"
                 "float U=o(a);"
                 "if(U<.33)"
                   "c=ab(y.xy);"
                 "else"
                   " if(U<.66)"
                     "c=ac(y.xy);"
                   "else"
                     " c=ad(y.xy);"
                 "M=.1;"
                 "e=vec3(.8,.4,.1);"
               "}"
             "else"
               " if(i.x==2.)"
                 "{"
                   "vec2 U=y.xy;"
                   "c=ac(U);"
                   "M=.1;"
                   "e=vec3(.8,.4,.1);"
                 "}"
               "else"
                 " if(i.x==3.)"
                   "c=mix(vec3(.4,.6,.05),.2*m.xxx,o(G)),M=.1,e=vec3(.8,.4,.1);"
                 "else"
                   " if(i.x==4.)"
                     "c=.2*m.xxx,M=.1,e=vec3(.8,.4,.1);"
                   "else"
                     " if(i.x==5.)"
                       "{"
                         "e=vec3(.4,.4,.1);"
                         "M=.1;"
                         "vec3 B=l*y;"
                         "c=mix(vec3(.9,.3,.1),.2*m.xxx,j(-b(1.2*B,.275*m.xxx)/1.2));"
                       "}"
                     "else"
                       " if(i.x==6.)"
                         "e=vec3(.4,.4,.1),M=.1,c=mix(m.xxx,.2*m.xxx,j(abs(y.z)-.045));"
                       "else"
                         " if(i.x==7.)"
                           "e=vec3(.4,.4,.1),M=.1,c=mix(m.xxx,.2*m.xxx,.5+.5*u(5.*y.xy));"
                         "else"
                           " if(i.x==8.)"
                             "e=vec3(.4,.4,.1),M=.1,c=mix(vec3(.9,.5,.3),.2*m.xxx,g(G));"
                           "else"
                             " if(i.x==9.)"
                               "e=vec3(.4,.4,.1),M=.1,c=vec3(.9,.5,.3);"
                             "else"
                               " if(i.x==10.)"
                                 "e=vec3(.4,.4,.1),M=.1,c=.2*m.xxx;"
                               "else"
                                 " if(i.x==11.)"
                                   "e=vec3(.4,.4,.1),M=.1,c=mix(vec3(.2,.9,.3),.2*m.xxx,step(.5,o(E)));"
                                 "else"
                                   " if(i.x==12.)"
                                     "e=vec3(.4,.4,.1),M=.1,c=mix(vec3(.5,.9,.3),.2*m.xxx,o(G));"
           "e.z+=M+(1.-M)*pow(clamp(1.-dot(s,-f),0.,1.),5.)*w;"
           "c=e.x*c+e.y*c*max(dot(normalize(ah-y),s),0.)+e.z*c*pow(max(dot(reflect(normalize(ah-y),s),f),0.),2.);"
           "if(i.x==-1.)"
             "c=m.yyy;"
           "return true;"
         "}"
       "x+=i.y<.5?min(i.y,.006):min(i.y,.01);"
     "}"
   "return false;"
 "}"
 "void main()"
 "{"
   "d=60./c;"
   "w=mod(v+.5*d,d)-.5*d;"
   "e=(v-w+.5*d)/d+smoothstep(-.2*d,.2*d,w);"
   "r=smoothstep(-.3*d,0.,w)*smoothstep(.3*d,0.,w);"
   "a=round((v-w)/d);"
   "vec2 x=gl_FragCoord.xy/s.xy,z=1./s.xy;"
   "ivec2 ab=ivec2(gl_FragCoord.xy);"
   "vec2 l=(gl_FragCoord.xy-.5*s.xy)/s.y;"
   "if(i==0)"
     "{"
       "vec3 M=m.yyx,G=m.yyy,U=m.yyy,o,t,B,p,g=m.xyy,W=normalize(G+l.x*g+l.y*cross(g,normalize(G-M))-M),S=.03*m.zyx,Q,O;"
       "float D=0.,E;"
       "{"
         "if(A(U,t,D,W,Q,M,S,p,1350))"
           "{"
             "if(Q.x==2.&&all(equal(U,m.yyy)))"
               "D+=.003,A(U,t,D,W,Q,M,S,p,1460);"
             "float X=.01,C=1.,Y=150.;"
             "for(float V=0.;V<=Y;V+=1.)"
               "X+=.01,C*=1.-max(0.,(X-A(t+X*p).y)/X/Y);"
             "U*=C;"
           "}"
       "}"
       "vec2 X=l.xy-vec2(-.4,.3);"
       "if(v<N[1])"
         ";"
       "else"
         " if(v<N[2])"
           "{"
             "float V=F(X,vec2(2.28,.1));"
             "U=mix(U,mix(U,m.xxx,.5),j(V));"
             "U=mix(U,m.yyy,j(J(3.*X)));"
           "}"
         "else"
           " if(v<N[3])"
             "{"
               "float V=F(X,vec2(2.28,.1));"
               "U=mix(U,mix(U,m.xxx,.5),j(V));"
               "U=mix(U,m.yyy,j(I(3.*vec2(.8,1.3)*X)));"
             "}"
           "else"
             " if(v<N[4])"
               ";"
             "else"
               " if(v<N[5])"
                 "{"
                   "float V=F(X,vec2(2.28,.1));"
                   "U=mix(U,mix(U,m.xxx,.5),j(V));"
                   "U=mix(U,m.yyy,j(H(3.*vec2(.5,1.2)*(X-.2*m.xy))));"
                 "}"
       "U=q(b(U)*vec3(u(2.*e*m.xx),1.,1.));"
       "U=mix(U,1.5*U,r);"
       "U*=smoothstep(0.,1.,v);"
       "f=mix(texture(y,x),vec4(clamp(U,0.,1.),1.),.5);"
     "}"
   "else"
     "{"
       "vec3 U=m.yyy;"
       "float t=sqrt(n)-1.;"
       "for(float M=-.5*t;M<=.5*t;M+=1.)"
         "for(float G=-.5*t;G<=.5*t;G+=1.)"
           "U+=texture(y,x+vec2(M,G)*2./max(t,1.)*z).xyz;"
       "U/=n;"
       "f=vec4(U,1.);"
       "vec4 M=texture(y,x-z),G=texture(y,x+z*m.xz),B=texture(y,x+z*m.zx),o=texture(y,x+z),W=o-M-3.*texture(y,x+z*m.yz)-G+B+3.*texture(y,x+z*m.yx),p=o-M-3.*texture(y,x+z*m.zy)-B+G+3.*texture(y,x+z*m.xy);"
       "f=vec4(U+(abs(p.xyz)+abs(W.xyz)).xyz,1.);"
       "f.xyz+=.04*fract(sin(dot(x+13.36,vec2(12.9898,4.1414)))*43758.5)*m.xxx;"
       "f.xyz=clamp(f.xyz,0.,1.);"
     "}"
 "}";

#endif // GFX_H_
